<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="dark light">
    <meta name="theme-color" content="#000000">
    <link href="https://fonts.googleapis.com/css2?family=Dela Gothic One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Neonderthaw&display=swap" rel="stylesheet">
    <title>座席表示</title>
  
    <style>
      body {
        background-color: #000000;
        color: #ffffff;
      }
  
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #000000;
          color: #ffffff;
        }
      }
  
      @media (prefers-color-scheme: light) {
        body {
          background-color: #000000;
          color: #ffffff;
        }
      }
    </style>
  
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="viewer.css">
</head>


<body>

  <div id="blackout"></div>
  <div id="glitch"></div>

 





  <div class="content">
  <div id="homeScreen">


    <h1>ご利用の前に</h1>
    <p >・一部機種によって機能が十分に使えない不具合が生じる場合がございます</p>
    <p id="moji">
      (現在確認されている不具合)<br/>iphone12以降で通常ハイライトが表示されない<br/>※使用上特に問題はございません
    </p>
    <p>・スマートフォンを想定したレイアウトのため、他端末ではお座席が見えづらい場合がございます</p>




    <button class="wave" onclick="goToViewerTimer()">自分の席をチェック</button> 
  
    
    </div>  
   

  </div>


  <div id="viewerScreen" class="hidden">
    
  <p id="message">座席はまだ公開されていません。</p>
  <p id="countdown"></p>
  <button onclick="goHome()">ホームに戻る</button></p>
</div>

  <script>
    const releaseTime = new Date("2025-05-26T12:40:00+09:00");  // 公開時刻
const countdownEl = document.getElementById("countdown");
const messageEl = document.getElementById("message");

function updateStatus() {
  const now = new Date();
  const diff = releaseTime - now;

  if (diff <= 0) {
    messageEl.textContent = "座席配置が公開されました！";
      
      goToViewer();
      
  
    
  } else {
    const minutes = String(Math.floor(diff / 60000)).padStart(2, '0');
const seconds = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
    countdownEl.textContent = ` ${minutes}:${seconds}`;
    setTimeout(updateStatus, 1000);
  }
}

// 初期化
</script>




  <div id="viewercontent" class="hidden">
    <div id="te"><h1>座席ビューア</h1>
    <p>HRNOを入力して座席を確認</p>
    <p>現在入力されているデータはテスト用です</p>
    <input type="text" id="studentId" placeholder="HRNO" />
    
    
    <p><button onclick="highlightGroup()">表示</button>
    <button onclick="goHome()">ホームに戻る</button></p>
  </div>
    <div id="output"></div>
    <div id="mapContainer" style="position: relative; display: inline-block;">
      <img id="seatImage" src="seatmap.jpg" style="width: 100%; display: block;">
      <canvas id="seatCanvas" style="position: absolute; top: 0; left: 0;"></canvas>
    </div>

    <canvas id="minimap"></canvas>
    <p></p>
    <p id="te">自分の席は赤、グループメンバーの席は水色で表示されます</p>
    <p id="te">ミニマップをクリックして拡大/通常表示を切り替え</p>
  </div>



  
</div>

<script src="viewertest.js"></script>
</body>
</html>
